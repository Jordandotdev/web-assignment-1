<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ticket Booking</title>
        <link rel="shortcut icon" href="./assets/turtlogo1.jpg" />
    
        <!--css link-->
        <link rel="stylesheet" href="./css/common.css">
        <link rel="stylesheet" href="./css/bookingsystem/tickets.css">
    
        <!--google fonts-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Amarante&family=Anton&family=Inter:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    
        <!-- JavaScript Links -->
        <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
        <script src="store/customer.js"></script>
        <script src="store/Location.js"></script>
        <script src="store/order.js"></script>

    </head>
<body>

    <!--Navbar-->

<nav>
    <div class="wrapper">

        <div class="top">
            <h2>TurtleTreasure</h2>
            <img src="./assets/Logo.png" alt="">
        </div>

        <div class="bottom">
            <div class="content-wrapper">
                <ul>
                    <li><a href="./hikka-th.html">Back</a></li>
                    <li><a href="#">TIcket Booking</a></li>
                </ul>
            </div>
        </div>

    </div>
</nav>


<div x-data="tickets">
    <section id="main">
        <div id="left">    

            <div id="Date " class="class-container">
                <h2>Choose the date</h2>
                <input type="date" id="dateInput">
            </div>

            
            <div id="time " class="class-container">
                <h2>Choose Times</h2>
                <select x-on:change="selectTimeSlot($event.target.value)">
                    <template x-for="(timeSlots, index) in $store.location.timeSlots">
                        <option :value="timeSlots.start + '-' + timeSlots.end">
                            Time: <span x-text="timeSlots.start"></span> - <span x-text="timeSlots.end"></span>
                        </option>
                    </template>
                </select>
            </div>


            <div id="Guest " class="class-container">

                <h2>Choose Guests</h2>

                <template x-for="(order, index) in $store.order.Peak_prices"> 
                    <div class="CG_Input">
                        <label><span x-text="order.Name"></span></label>
                        <div x-data="{ count: 1 }" class="btn_container">
                            <button id="decrement" @click="count = Math.max(count - 1, 0)">-</button>
                            <input type="number" x-bind:value="count" min="0" id="my_input" readonly>
                            <button id="increment" @click="count++">+</button>
                        </div>
                    </div>
                </template>

            </div>

            <div>
                <button class="btn1" x-on:click="">Continue with Purchase</button>
            </div>

        </div>

        <div id="right">

            <div class="summary">
                <h2>Order Summary</h2>
            </div>

        </div>

    </section>
</div>

<script>

    selectTimeSlot(timeSlot){
                    this.selectedTimeSlot = timeSlot;
                    localStorage.setItem('selected_time_slot', JSON.stringify(timeSlot));    
                    console.log(selected_time_slot);            
                }


</script>


<script>
    document.addEventListener('alpine:init', () => {
        Alpine.data('Date', () => ({
            selectMovie(Location) {
                console.log(Location);
                localStorage.setItem('selected_Date', JSON.stringify(Location));
            }
        }))
    })


    // Get the current date in the format YYYY-MM-DD
    const currentDate = new Date().toISOString().split('T')[0];

    // Set the value of the input element to the current date
    document.getElementById('dateInput').value = currentDate;

  // Get the input element
  const dateInput = document.getElementById('dateInput');

  // Add event listener to the input element
  dateInput.addEventListener('input', function(event) {
    const selectedDate = new Date(event.target.value);
    const currentDate = new Date();

    // Compare selectedDate with currentDate
    if (selectedDate < currentDate) {
      // If selectedDate is in the past, prevent the change
      event.target.value = currentDate.toISOString().split('T')[0];
    }
  });
</script>

<!--Footer section-->

<footer>
    <div class="top">

        <div class="left">
            <img src="./assets/logo2.png" alt="footer-image" class="footer-img">
        </div>

        <div class="right">
            <div class="sec1">
                <a href="./index.html" >Home</a>
                <a href="./donate.html" >Donate</a>
            </div>

            <div class="sec2">
                <a href="#">Topics</a>
                <div class="sub-sec2">
                    <a href="./turtlecat.html">Turtle categories</a>
                    <a href="./threats.html">Threats to turtles</a>
                </div>
            </div>

            <div class="sec3">
                <a href="./topics.html">Hatcheries</a>
                <div class="sub-sec3">
                    <a href="./hikka-th.html">Hikkaduwa turtle hatchery</a>
                    <a href="./kosgoda-th.html">Kosgoda turtle hatchery</a>
                    <a href="./bentota-th.html">Bentota  turtle hatchery</a>
                </div>
            </div>
        </div>

    </div>

    <div class="bottom">
        Copyrights @CB011281 2023.allrights reserved
    </div>

</footer>
    
</body>
</html>